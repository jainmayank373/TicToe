<html>
      <head>
              <title>TicTack Toe</title>
              <style>


            .container{
            display:flex;
            flex-direction:row;
           }
/*ROW CLASS*/
    .row1, .row2, .row3 {
            height:40px;
            width:40px;
            border:1px solid #ff4444;
            padding:10px;
            text-align:center;
        }

button{
            margin:25px;
            height:30px;
            width:120px;
            background-color:#ff4444;
            text-align: center;
            border:0px ;
            border-radius: 10px;

        }
.UserIn{
            float: left;
            color: #123;
}
/*Wrapper Class */
   .tic{  
    position: absolute;
    width:200px;
    height: 200px;
    margin: auto;
    padding: auto;
    top:0px;
    left:0px;
    right:0px;
    bottom: 0px;
}
    </style>
      </head>
      <body>
          
            <div class="tic"> 
                    <div class="container">
                        
                        <div class="row1">
                     
                        </div> 
                        <div class="row1">
                  
                        </div>
                        <div class="row1">
                  
                        </div>
                    </div>
                    
                    <div class="container">
                        
                        <div class="row1">

                        </div> 
                        <div class="row1">
                  
                        </div>
                        <div class="row1">
                  
                        </div>
                    </div>
                    
                    <div class="container">
                        
                        <div class="row1">
                     
                        </div> 
                        <div class="row1">
                  
                        </div>
                        <div class="row1">
                  
                        </div>
                    </div>
                  <div>
                  <button onclick="fun()">Reset</button>
                   <button onclick="winner()">Check Winner</button>
                  </div>
                  <h2 class="UserIn"></h2>
                 
            </div>
      </body>
        <script>
        
            //Accessing Heading Section 
            var  user =  document.getElementsByClassName('UserIn');
                 user[0].innerHTML = 'User Turn';
            var turn = false;
            var   col =  document.getElementsByClassName('row1');
         var arr=[];
            var winnerUser =0 ;
             function TicToe(event){
                     
                    user[0].innerHTML = 'User Turn';
                    var count = i;
                    this.style.backgroundColor = "green";
                    user[0].innerHTML = 'Computer Turn';
                    
                    var  myVar =  setTimeout(function(){
                            arr.push(count);
                            winner("green","You Win");
                            winner("blue","Opps! You Lose");
                            
                            var index = checkBlankIndex();
                            if(index != -1){
                                
                                arr.push(index);
                                col[index].style.backgroundColor="blue";

                            }
                            else {
                                  
                                   
                                   if( winner("green","You Win") == -1 ||winner("blue","Opps! You Lose")==-1 )
                            {alert("MAtch Tie");
                            return;}
                            }
                                winner("blue","Opps! You Lose");
                            user[0].innerHTML = 'User Turn';
                                    
                            this.removeEventListener('click',TicToe,false);
                    },500,false);

                    //Removing Event Handler After Clicking
                    this.removeEventListener('click',TicToe,false);
                    }
              

            for(var i=0;i< col.length;i++){
            var elem = col[i]; //Accessing The Row1
	       
                       // Attaching Event Handler to row1

                    elem.addEventListener('click',TicToe);    }


function checkBlankIndex(){
    var count=1;
    var  index1 = Math.floor(Math.random()*6);
    while(col[index1].style.backgroundColor == "blue" || col[index1].style.backgroundColor == "green"){
                            var  index1 = Math.floor(Math.random()*9);    
                            count++;
                            if(count >=9 ) {return -1;}                          
                            }
    return index1;
}
//Winner Code
 function winner(color,mess){
     for(var winnerIndex = 1 ; winnerIndex < 9 ;winnerIndex++){
                if(winnerIndex== 1 || winnerIndex == 7 ||  winnerIndex == 4){
                    if(col[winnerIndex].style.backgroundColor ==color && col[winnerIndex-1].style.backgroundColor ==color && col[winnerIndex+1].style.backgroundColor==color){
                        alert(mess);
                        return;
                    }
                    

                }
                if(winnerIndex== 3 || winnerIndex == 4 ||  winnerIndex == 5){
                    if(col[winnerIndex].style.backgroundColor == color && col[winnerIndex-3].style.backgroundColor ==color && col[winnerIndex+3].style.backgroundColor==color){
                        alert(mess);
                        return;
                    }
                     }
            
                 if(winnerIndex == 4 ){
                    if(col[winnerIndex].style.backgroundColor == color && col[winnerIndex-4].style.backgroundColor ==color && col[winnerIndex+4].style.backgroundColor==color){
                        alert(mess);
                        return;
                    }
                    if(col[winnerIndex].style.backgroundColor ==color && col[winnerIndex-2].style.backgroundColor ==color && col[winnerIndex+2].style.backgroundColor==color){
                        alert(mess);
                        return;
                    }
                    

 }}
 return -1;
 }


//Reloading Page
function fun(){
    document.location.reload();
}
        </script>
</html>



 